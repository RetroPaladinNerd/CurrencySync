# Требования к проекту
---

1 [Введение](#intro)  
1.1 [Назначение](#appointment)  
1.2 [Бизнес-требования](#business_requirements)  
1.2.1 [Исходные данные](#initial_data)  
1.2.2 [Возможности бизнеса](#business_opportunities)  
1.2.3 [Границы проекта](#project_boundary)  
1.3 [Аналоги](#analogues)  
2 [Требования пользователя](#user_requirements)    
2.1 [Интерфейс пользователя](#user_interface)  
2.2 [Характеристики пользователей](#user_specifications)  
2.2.1 [Классы пользователей](#user_classes)  
2.2.2 [Аудитория приложения](#application_audience)  
2.3 [Предположения и зависимости](#assumptions_and_dependencies)  
3 [Системные требования](#system_requirements)  
3.1 [Функциональные требования](#functional_requirements)  
3.1.1 [Получение данных из внешних источников](#data_acquisition)    
3.1.1.1 [Получение актуальных курсов валют](#get_current_rates)   
3.1.1.2 [Получение исторических данных](#get_historical_data)   
3.1.1.3 [Получение данных о ценных бумагах](#get_securities_data)  
3.1.2 [Конвертация валют](#currency_conversion)  
3.1.2.1 [Расчёт конвертации валют](#convert_currencies)  
3.1.3 [Ограничения и исключения](#restrictions_and_exclusions)  
3.2 [Нефункциональные требования](#non-functional_requirements)  
3.2.1[Атрибуты качества](#quality_attributes)  
3.2.1.1 [Надежность](#reliability)  
3.2.1.2[Безопасность](#security)  
3.2.1.3 [Поддерживаемость](#maintainability)  
3.2.3 [Ограничения](#restrictions)  



<a name="intro"/>

# 1 Введение

<a name="appointment"/>

## 1.1 Назначение
В этом документе описаны функциональные и нефункциональные требования к веб-приложению «CurrencySync». Этот документ предназначен для команды разработчиков, тестировщиков и других заинтересованных сторон, участвующих в создании и проверке корректности работы приложения.

<a name="business_requirements"/>

## 1.2 Бизнес-требования

<a name="initial_data"/>

### 1.2.1 Исходные данные
В процессе финансовых операций, таких как налогообложение, инвестиции или повседневные расчёты, пользователи сталкиваются с необходимостью получения актуальных данных о курсах валют, ценных бумаг и золотовалютных резервов. Текущее приложение на Java, использующее фиксированные курсы, ограничивает возможности пользователей. «CurrencySync» решает эту проблему, предоставляя доступ к актуальным данным через API, а также инструменты для анализа и визуализации.

<a name="business_opportunities"/>

### 1.2.2 Возможности бизнеса
«CurrencySync» ориентировано на широкую аудиторию: индивидуальных предпринимателей (ИП), частных инвесторов, финансовых аналитиков и обычных пользователей (например, туристов). Платформа предоставляет:

Доступ к текущим и историческим курсам валют (USD, EUR, RUB, CNY и др.) для расчётов и налоговой отчётности.
Анализ ценных бумаг и золотовалютных резервов для инвестиционных решений.
Визуализацию данных (графики, корреляции) для выявления трендов.
Инструменты для расчёта выгодности вкладов с учётом исторических данных.Приложение подходит как для начинающих, так и для опытных пользователей, обеспечивая удобный и кастомизируемый интерфейс для финансового мониторинга.


<a name="project_boundary"/>

### 1.2.3 Границы проекта
Платформа «CurrencySync» предоставляет пользователям инструменты для получения, анализа и визуализации финансовых данных, включая курсы валют, ценные бумаги и золотовалютные резервы. Приложение поддерживает кастомизацию активов, оффлайн-кэширование данных и экспорт отчётов, но не включает функции прямой торговли или управления портфелем.

<a name="analogues"/>

## 1.3 Аналоги
Вдохновением для «CurrencySync» послужили платформы Investing.com и XE.com. Investing.com предоставляет обширные данные о рынках и инструменты анализа, а XE.com — удобный конвертер валют с историческими курсами. «CurrencySync» объединяет их преимущества, добавляя:

Интеграцию с API для актуальных данных (Fixer.io, Alpha Vantage).
Визуализацию корреляций и трендов.
Расчёт доходности вкладов.
Уведомления о резких изменениях курсов.Это делает платформу уникальным инструментом для финансового анализа и повседневных расчётов.

<a name="user_requirements"/>

# 2 Требования пользователя

<a name="user_interface"/>

## 2.1 Интерфейс пользователя








<a name="user_specifications"/>

## 2.2 Характеристики пользователей

<a name="user_classes"/>

### 2.2.1 Классы пользователей

| Класс пользователей | Описание |
|:---|:---|
|Индивидуальные предприниматели (ИП)|Используют платформу для налоговой отчётности, расчёта валютной выручки и планирования операций. Обладают базовыми финансовыми знаниями. Уровень технической грамотности: средний|
|Финансовые аналитики|Профессионалы, использующие платформу для глубокого анализа рынков, построения прогнозов и подготовки отчётов. Обладают высокой финансовой и технической грамотностью. Уровень технической грамотности: высокий|
|Разработчики приложений|Интегрируют API CurrencySync в свои приложения и сервисы. Обладают высокой технической грамотностью. Уровень технической грамотности: высокий|
|Обычные пользователи|Используют конвертер валют для повседневных расчётов и планирования поездок. Базовый уровень финансовых знаний. Уровень технической грамотности: низкий-средний|

<a name="application_audience"/>

### 2.2.2 Целевая аудитория

Основная целевая аудитория:

1. Индивидуальные предприниматели и малый бизнес (15%)
2. Финансовые аналитики и специалисты (10%)
3. Обычные пользователи для повседневных операций (65%)
4. Разработчики и компании, нуждающиеся в API (10%)

<a name="assumptions_and_dependencies"/>

## 2.3 Предположения и зависимости

Факторы, влияющие на требования к системе:

1. Доступность внешних API. Система критически зависит от доступности API Национального банка и других источников данных. При недоступности основного источника система должна использовать резервные API или кэшированные данные
2. Актуальность данных. Национальные банки обновляют курсы с различной периодичностью (ежедневно, еженедельно). Система должна учитывать расписание обновлений
3. Сетевое подключение. Для получения актуальных данных требуется стабильное интернет-соединение. При отсутствии связи система должна работать с кэшированными данными
4. Точность расчётов. Финансовые расчёты требуют использования типов данных с фиксированной точностью (Decimal) для предотвращения ошибок округления

<a name="system_requirements"/>

# 3 Системные требования

<a name="functional_requirements"/>

## 3.1 Функциональные требования

<a name="data_acquisition"/>

### 3.1.1 Получение данных из внешних источников

<a name="get_current_rates"/>

#### 3.1.1.1 Получение актуальных курсов валют

|Функция|Требования|
|:---|:---|
|Запрос к API Национального банка|Система должна выполнять HTTP GET запрос к API для получения текущих курсов валют|
|Парсинг ответа|Система должна корректно обрабатывать ответы в формате JSON/XML от различных источников|
|Приоритет источников|Система должна использовать API Национального банка как основной источник, с возможностью переключения на резервные источники (Fixer.io) при недоступности|
|Обработка ошибок|При недоступности API система должна использовать последние кэшированные данные и уведомить пользователя о работе в оффлайн режиме|
|Периодичность обновления|Система должна автоматически обновлять курсы согласно расписанию обновлений источника (обычно 1 раз в день)|
|Валидация|Система должна проверять корректность полученных данных (наличие обязательных полей, адекватность значений курсов)|
|Логирование|Все запросы к внешним API и их результаты должны логироваться для отладки и мониторинга|

<a name="get_historical_data"/>

#### 3.1.1.2 Получение исторических данных

|Функция|Требования|
|:---|:---|
|Запрос исторических данных|Система должна формировать запросы к API с параметрами даты начала и окончания периода|
|Кэширование истории|Полученные исторические данные должны сохраняться в локальной базе для минимизации повторных запросов к API|
|Агрегация данных|Система должна поддерживать различные периоды агрегации (день, неделя, месяц, год)|
|Обработка больших объёмов|Для длительных периодов система должна разбивать запросы на части для соблюдения лимитов API|
|Экспорт данных|Система должна предоставлять возможность экспорта исторических данных в форматы CSV и Excel|

<a name="get_securities_data"/>

#### 3.1.1.3 Получение данных о ценных бумагах

|Функция|Требования|
|:---|:---|
|Запрос котировок|Система должна получать текущие котировки выбранных ценных бумаг|
|Данные о резервах|Система должна получать информацию о золотовалютных резервах из официальных источников|
|Фильтрация активов|Пользователь должен иметь возможность выбрать интересующие активы для отслеживания|
|Обновление данных|Система должна обновлять данные о ценных бумагах с учётом расписания торгов (в рабочие дни)|

<a name="currency_conversion"/>

### 3.1.2 Конвертация валют

<a name="convert_currencies"/>

#### 3.1.2.1 Расчёт конвертации валют

Описание. Система предоставляет инструмент для конвертации сумм между различными валютами.

|Функция|Требования|
|:---|:---|
|Выбор валютной пары|Пользователь должен иметь возможность выбрать исходную и целевую валюту из списка поддерживаемых|
|Ввод суммы|Система должна принимать числовые значения с поддержкой десятичных дробей|
|Расчёт конвертации|Система должна рассчитывать конвертированную сумму по формуле: convertedAmount = amount × rate|
|Отображение курса|Система должна отображать используемый обменный курс и дату его актуальности|
|Обратная конвертация|Система должна предоставлять возможность мгновенной обратной конвертации (переключение валют местами)|
|Кросс-курсы|Для пар валют, не имеющих прямого курса, система должна рассчитывать кросс-курс через базовую валюту|
|Точность расчётов|Все расчёты должны использовать тип данных Decimal с точностью до 6 знаков после запятой|
|Комиссия банков|Система должна предоставлять опцию учёта комиссии банков при конвертации|

<a name="restrictions_and_exclusions"/>

### 3.1.3 Ограничения и исключения

1. Система не выполняет реальные финансовые транзакции и не осуществляет прямую торговлю валютами или ценными бумагами
2. Система не управляет инвестиционным портфелем пользователя автоматически
3. Система не предоставляет финансовых советов и рекомендаций (все расчёты и прогнозы носят информационный характер)
4. Система не гарантирует 100% точность прогнозов и не несёт ответственности за инвестиционные решения пользователей
5. Система зависит от доступности и корректности данных внешних API
6. При недоступности всех источников данных и отсутствии кэша система не может предоставить актуальную информацию
7. Система не поддерживает криптовалюты в текущей версии
8. Система не предоставляет данные внутридневной торговли для ценных бумаг

<a name="non-functional_requirements"/>

### 3.2 Нефункциональные требования

<a name="quality_attributes"/>

#### 3.2.1 Атрибуты качества

<a name="reliability"/>

#### 3.2.1.1 Надежность

Важность: Критична для принятия финансовых решений пользователями.
Требования:

1. Система должна корректно обрабатывать все возможные ошибки при работе с внешними API
2. При недоступности основного API система должна автоматически переключаться на резервные источники данных
3. Все финансовые расчёты должны использовать тип данных Decimal для предотвращения ошибок округления
4. Система должна валидировать полученные данные перед их отображением и использованием в расчётах
5. Кэшированные данные должны иметь метку времени актуальности для предотвращения использования устаревшей информации
6. Система должна обеспечивать целостность данных при сбоях (использование транзакций для операций с БД)
7. Критичные операции должны логироваться для возможности восстановления состояния системы

<a name="security"/>

#### 3.2.1.2 Безопасность

Важность: Высокая, система работает с финансовыми данными.
Требования:

1. API ключи для внешних сервисов должны храниться в зашифрованном виде или в безопасном хранилище (environment variables, secrets manager)
2. Все подключения к внешним API должны использовать HTTPS протокол
3. Пользовательские данные (настройки, история запросов) должны быть защищены от несанкционированного доступа
4. Система должна использовать подготовленные SQL запросы (prepared statements) для предотвращения SQL-инъекций
5. При добавлении функций аутентификации пароли должны хешироваться с использованием современных алгоритмов (bcrypt, Argon2)
6. Система должна соблюдать требования GDPR при работе с персональными данными пользователей

<a name="maintainability"/>

#### 3.2.1.3 Поддерживаемость

Важность: Критична для долгосрочного развития и поддержки системы.
Требования:

1. Код должен соответствовать принципам SOLID и паттернам проектирования
2. Архитектура должна быть модульной с чёткой изоляцией компонентов (работа с API, бизнес-логика, представление)
3. Каждый модуль должен иметь понятный интерфейс и минимальные зависимости от других модулей
4. Проект должен использовать систему контроля версий (Git) с понятной историей коммитов
5. Система сборки (Maven/Gradle) должна быть настроена для автоматизации развёртывания
6. Должны быть созданы unit-тесты для критичных компонентов (coverage не менее 70%)
7. Конфигурационные параметры должны выноситься в отдельные файлы конфигурации
8. Код должен следовать единому стилю форматирования (Google Java Style Guide или аналог)

<a name="restrictions"/>

### 3.2.3 Ограничения

1. Язык программирования: Основная логика должна быть реализована на Java 
2. Система сборки: Проект должен использовать Maven или Gradle для управления зависимостями и сборки
3. База данных: Должна использоваться реляционная СУБД (PostgreSQL рекомендуется, допустимы MySQL, H2 для разработки)
4. Веб-фреймворк: Рекомендуется Spring Boot для упрощения разработки REST API и веб-интерфейса
5. Формат данных: Обмен данными с клиентами и внешними API должен осуществляться в формате JSON
6. Протокол: Система должна работать по протоколу HTTPS в production среде
7. Числовая точность: Курсы валют должны храниться и обрабатываться с использованием типа BigDecimal с точностью до 6 знаков после запятой
8. Зависимость от внешних API: Система критически зависит от доступности API источников данных
