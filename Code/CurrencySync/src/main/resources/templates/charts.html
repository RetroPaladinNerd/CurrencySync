<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ì—Ä–∞—Ñ–∏–∫–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫—É—Ä—Å–æ–≤ - CurrencySync</title>
    <link rel="stylesheet" th:href="@{/css/style.css}">
</head>
<body>
    <header>
        <div class="header-container">
            <a href="/" class="logo">CurrencyX</a>
            <nav>
                <ul>
                    <li><a href="/">–ì–ª–∞–≤–Ω–∞—è</a></li>
                    <li><a href="/converter">–ö–æ–Ω–≤–µ—Ä—Ç–µ—Ä</a></li>
                    <li><a href="/rates">–ö—É—Ä—Å—ã –∏ –∞–∫—Ü–∏–∏</a></li>
                    <li><a href="/charts" class="active">–ì—Ä–∞—Ñ–∏–∫–∏</a></li>
                    <li><a href="/news">–ù–æ–≤–æ—Å—Ç–∏</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <div class="hero">
        <h1>–ì—Ä–∞—Ñ–∏–∫–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫—É—Ä—Å–æ–≤ –≤–∞–ª—é—Ç</h1>
        <p>–ê–Ω–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –¥–∏–Ω–∞–º–∏–∫—É –≤–∞–ª—é—Ç–Ω—ã—Ö –∫—É—Ä—Å–æ–≤ –∑–∞ –ª—é–±–æ–π –ø–µ—Ä–∏–æ–¥ –≤—Ä–µ–º–µ–Ω–∏</p>
    </div>

    <div class="container">
        <div class="chart-section">
            <div class="converter-tabs">
                <button class="tab-button" onclick="window.location.href='/'">üè† –ì–ª–∞–≤–Ω–∞—è</button>
                <button class="tab-button" onclick="window.location.href='/converter'">üí± –ö–æ–Ω–≤–µ—Ä—Ç–µ—Ä</button>
                <button class="tab-button active">üìä –ì—Ä–∞—Ñ–∏–∫–∏</button>
            </div>
            
            <div class="chart-content">
                <div class="chart-controls-wrapper">
                    <div class="chart-controls">
                        <div class="control-group">
                            <label>–í–∞–ª—é—Ç–∞</label>
                            <select id="chartCurrency">
                                <option value="USD" selected>USD - –î–æ–ª–ª–∞—Ä –°–®–ê</option>
                                <option value="EUR">EUR - –ï–≤—Ä–æ</option>
                                <option value="RUB">RUB - –†–æ—Å—Å–∏–π—Å–∫–∏–π —Ä—É–±–ª—å</option>
                                <option value="GBP">GBP - –§—É–Ω—Ç —Å—Ç–µ—Ä–ª–∏–Ω–≥–æ–≤</option>
                                <option value="JPY">JPY - –Ø–ø–æ–Ω—Å–∫–∞—è –∏–µ–Ω–∞</option>
                                <option value="CNY">CNY - –ö–∏—Ç–∞–π—Å–∫–∏–π —é–∞–Ω—å</option>
                                <option value="CHF">CHF - –®–≤–µ–π—Ü–∞—Ä—Å–∫–∏–π —Ñ—Ä–∞–Ω–∫</option>
                            </select>
                        </div>
                        
                        <div class="control-group">
                            <label>–ü–µ—Ä–∏–æ–¥ —Å</label>
                            <input type="date" id="dateFrom" class="date-input">
                        </div>
                        
                        <div class="control-group">
                            <label>–ü–µ—Ä–∏–æ–¥ –ø–æ</label>
                            <input type="date" id="dateTo" class="date-input">
                        </div>
                        
                        <button id="loadChart" class="chart-btn">–ü–æ–∫–∞–∑–∞—Ç—å –≥—Ä–∞—Ñ–∏–∫</button>
                    </div>

                    <div class="period-buttons">
                        <button class="period-btn" data-period="7">7 –¥–Ω–µ–π</button>
                        <button class="period-btn active" data-period="30">1 –º–µ—Å—è—Ü</button>
                        <button class="period-btn" data-period="90">3 –º–µ—Å—è—Ü–∞</button>
                        <button class="period-btn" data-period="180">6 –º–µ—Å—è—Ü–µ–≤</button>
                        <button class="period-btn" data-period="365">1 –≥–æ–¥</button>
                    </div>
                </div>

                <div class="chart-wrapper">
                    <canvas id="rateChart"></canvas>
                </div>
            </div>
        </div>

        <div class="tables-section">
            <div class="section-header">
                <div>
                    <h2>–¢–µ–∫—É—â–∏–µ –∫—É—Ä—Å—ã –≤–∞–ª—é—Ç</h2>
                    <p>–ê–∫—Ç—É–∞–ª—å–Ω—ã–µ –æ–±–º–µ–Ω–Ω—ã–µ –∫—É—Ä—Å—ã –Ω–∞ —Å–µ–≥–æ–¥–Ω—è</p>
                </div>
            </div>
            <table>
                <thead>
                    <tr>
                        <th>–í–∞–ª—é—Ç–∞</th>
                        <th>–ö–æ–¥</th>
                        <th>–ö—É—Ä—Å (Br)</th>
                        <th>–ù–æ–º–∏–Ω–∞–ª</th>
                    </tr>
                </thead>
                <tbody>
                    <tr th:each="currency : ${currencies}" 
                        th:if="${currency.charCode == 'USD' or currency.charCode == 'EUR' or currency.charCode == 'GBP' or currency.charCode == 'CNY' or currency.charCode == 'JPY' or currency.charCode == 'CHF' or currency.charCode == 'RUB'}">
                        <td th:text="${currency.name}">–î–æ–ª–ª–∞—Ä –°–®–ê</td>
                        <td><strong th:text="${currency.charCode}">USD</strong></td>
                        <td><strong th:text="${#numbers.formatDecimal(currency.vunitRate, 1, 4)} + ' Br'">3.2000 Br</strong></td>
                        <td th:text="${currency.nominal}">1</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <footer>
        <p>&copy; 2025 CurrencySync. –ê–∫—Ç—É–∞–ª—å–Ω—ã–µ –∫—É—Ä—Å—ã –≤–∞–ª—é—Ç –∏ –∫–æ—Ç–∏—Ä–æ–≤–∫–∏</p>
    </footer>

    <script th:src="@{/js/charts.js}"></script>
</body>
</html>
