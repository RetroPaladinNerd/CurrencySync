# План тестирования — CurrencySync

## 1. Общая информация

Этот документ определяет стратегию тестирования, окружение и цели для веб-приложения **CurrencySync** — платформы для конвертации валют, отображения графиков курсов и просмотра финансовых новостей, построенной на **Spring Boot (Java 17)**, **Thymeleaf** и **JavaScript**.

Цель тестирования — проверить все backend контроллеры, сервисы конвертации валют, интеграцию с API Центробанка РФ и корректность работы frontend-части.

## 2. Цели тестирования

1. Проверить функциональную корректность всех контроллеров (`/`, `/converter`, `/charts`, `/rates`, `/news`).
2. Валидировать логику конвертации валют через BYN (белорусский рубль).
3. Убедиться в корректной интеграции с CBR API (Центробанк РФ).
4. Проверить отображение графиков изменения курсов валют.
5. Оценить стабильность системы и обработку ошибок.

## 3. Область тестирования

### В области тестирования
- Юнит и интеграционные тесты для всех Spring контроллеров.
- Логика конвертации валют (CurrencyService).
- Интеграция с CBR API (CbrApiService).
- Отображение данных через Thymeleaf шаблоны.
- JavaScript функционал (графики, конвертер).
- Модели данных (Currency, Security, NewsItem, ExchangeRate).

### Вне области тестирования
- UI тестирование (обрабатывается вручную).
- Нагрузочное тестирование (планируется на следующем этапе).
- Интеграция с внешними новостными API (будущий функционал).

## 4. Стратегия тестирования

Тестирование будет выполняться с использованием **автоматизированного тестирования на базе JUnit 5 и Mockito** для backend-части.

### Фреймворки и инструменты
| Тип | Инструмент |
|-----|-----------|
| Тест-раннер | JUnit 5 |
| Мокирование | Mockito |
| Веб-тестирование | MockMvc |
| Сборка | Maven 3.9+ |
| Фреймворк | Spring Boot 3.2 |
| Покрытие кода | JaCoCo (планируется) |
| CI/CD | GitHub Actions (планируется) |

## 5. Тестовое окружение

| Компонент | Технология |
|-----------|-------------|
| ОС | Windows 11 |
| Backend | Spring Boot 3.2 (Java 17) |
| Frontend | HTML5, CSS3, JavaScript (Vanilla JS) |
| Шаблонизатор | Thymeleaf |
| API интеграция | CBR API (Центробанк РФ) |
| Порт | 8081 (backend) |
| База данных | Не требуется (статические данные + API) |


## 6. Типы тестов и покрытие

| Тип | Назначение |
|-----|-----------|
| **Юнит-тесты** | Проверка изолированной логики сервисов и моделей |
| **Интеграционные тесты контроллеров** | Валидация HTTP маршрутов и бизнес-потоков |
| **Тесты конвертации** | Проверка корректности расчетов курсов валют |
| **Тесты API** | Проверка интеграции с CBR API |
| **Тесты моделей** | Проверка корректности работы с данными |

## 7. Риски и меры по их снижению

| Риск | Меры по снижению |
|------|------------------|
| CBR API недоступен | Использовать моки для тестирования |
| Изменение формата XML от CBR | Добавить валидацию схемы данных |
| Ошибки парсинга курсов | Добавить обработку исключений с fallback значениями |
| Недоступность frontend ресурсов | Проверять наличие статических файлов в тестах |

✅ **Уровень риска:** Низкий–Средний

## 8. Критерии входа и выхода

**Критерии входа**
- Все зависимости Maven установлены.
- Spring Boot приложение компилируется без ошибок.
- Доступен CBR API для интеграционных тестов.

**Критерии выхода**
- Все тесты выполнены успешно.
- Критические и важные дефекты исправлены.
- Все эндпоинты контроллеров возвращают корректные представления.
- Конвертация валют работает корректно.

## 9. Отчетность и результаты

| Документ | Описание |
|----------|----------|
| Test plan.md | Этот документ |
| Test result.md | Результаты выполнения тестов |
| Testin summary.md | Итоги и выводы тестирования |

## 10. Тестовые данные

### Курсы валют для тестирования
| Валюта | Курс к BYN |
|--------|-----------|
| USD | 3.20 |
| EUR | 3.45 |
| RUB | 0.033 |
| GBP | 4.05 |
| JPY | 0.021 |

### Тестовые сценарии
1. Конвертация 1000 BYN → USD (ожидается ~312.50)
2. Конвертация 100 USD → BYN (ожидается 320.00)
3. Получение графика курса USD за 30 дней
4. Отображение списка ценных бумаг (AAPL, MSFT, GOOGL)
5. Загрузка новостей о валютном рынке






